<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mavis and Aerys Co · TikTok 多像素批量激活 · Pro</title>
  <meta name="description" content="Mavis and Aerys Co · 批量激活多个 TikTok Pixel 的 Register/Purchase 等事件，支持并行、叠加统计、CSV 导出与本地历史。">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* 品牌主题色：这里换成其他色值即可全站换色 */
    :root{
      --brand-primary-600:#7c3aed; /* 紫色主色 */
      --brand-primary-700:#6d28d9;
      --brand-ring:#c4b5fd;
    }
    .btn-brand{ background:var(--brand-primary-600); color:#fff; }
    .btn-brand:hover{ background:var(--brand-primary-700); }
    .ring-brand{ box-shadow: 0 0 0 3px var(--brand-ring); }
  </style>
</head>
<body class="min-h-screen bg-slate-50 text-slate-900">
  <!-- ====== BRAND CONFIG ====== -->
  <script>
    const BRAND = {
      name: "Mavis and Aerys Co",
      logo: "", // 这里填Logo直链，例如 "https://你的logo.png"
      year: new Date().getFullYear()
    };
  </script>

  <div class="max-w-5xl mx-auto p-6 space-y-6">
    <header class="flex items-center justify-between">
      <div class="flex items-center gap-3">
        <img id="brandLogo" alt="logo" class="h-8 hidden" referrerpolicy="no-referrer" />
        <h1 class="text-2xl md:text-3xl font-bold"><span id="brandName"></span> · TikTok 多像素批量激活</h1>
      </div>
      <div class="text-sm text-slate-500">仅供被授权的广告账户运维使用</div>
    </header>

    <!-- Stats -->
    <section class="grid grid-cols-2 md:grid-cols-4 gap-3">
      <div class="rounded-2xl bg-white p-4 shadow">
        <div class="text-xs text-slate-500">总像素（本批）</div>
        <div id="stat-total" class="text-2xl font-semibold">0</div>
      </div>
      <div class="rounded-2xl bg-white p-4 shadow">
        <div class="text-xs text-slate-500">已激活</div>
        <div id="stat-success" class="text-2xl font-semibold">0</div>
      </div>
      <div class="rounded-2xl bg-white p-4 shadow">
        <div class="text-xs text-slate-500">失败</div>
        <div id="stat-fail" class="text-2xl font-semibold">0</div>
      </div>
      <div class="rounded-2xl bg-white p-4 shadow">
        <div class="text-xs text-slate-500">成功率</div>
        <div id="stat-rate" class="text-2xl font-semibold">0%</div>
      </div>
    </section>

    <!-- Config -->
    <section class="rounded-2xl bg-white p-5 shadow space-y-4">
      <h2 class="font-semibold text-lg">配置</h2>

      <div class="grid md:grid-cols-2 gap-4">
        <div>
          <label class="block text-sm mb-1">Pixel IDs（用逗号分隔）</label>
          <input id="pixelIds" class="w-full rounded-xl border p-2 focus:outline-none focus:ring-4 ring-brand" placeholder="1234567890, 9876543210" />
        </div>
        <div>
          <label class="block text-sm mb-1">激活链接（每行一个）</label>
          <textarea id="activateLinks" class="w-full rounded-xl border p-2 h-24 focus:outline-none focus:ring-4 ring-brand" placeholder="https://..."></textarea>
        </div>
      </div>

      <div class="flex flex-wrap items-center gap-3">
        <label class="inline-flex items-center gap-2 text-sm">
          <input id="autoExtract" type="checkbox" class="h-4 w-4" checked />
          从链接自动提取 Pixel ID
        </label>

        <label class="inline-flex items-center gap-2 text-sm">
          <input id="accumulate" type="checkbox" class="h-4 w-4" checked />
          叠加统计（不重置）
        </label>

        <label class="inline-flex items-center gap-2 text-sm">
          <input id="allowDuplicate" type="checkbox" class="h-4 w-4" />
          允许重复激活同一 Pixel
        </label>

        <label class="inline-flex items-center gap-2 text-sm">
          <input id="parallel" type="number" min="1" max="20" value="6" class="h-8 w-20 rounded border p-1 text-center" />
          并发数
        </label>

        <label class="inline-flex items-center gap-2 text-sm">
          事件类型
          <select id="eventType" class="rounded border p-1 h-8">
            <option value="Register" selected>Register</option>
            <option value="Purchase">Purchase</option>
          </select>
        </label>

        <input id="fileInput" type="file" accept=".txt" class="hidden" />
        <button id="btnUpload" class="px-3 py-2 rounded-xl bg-slate-100 hover:bg-slate-200 text-sm">批量上传 .txt</button>
      </div>

      <div class="flex gap-3">
        <button id="btnActivate" class="px-4 py-2 rounded-xl btn-brand">激活所有</button>
        <button id="btnReset" class="px-4 py-2 rounded-xl bg-slate-200 hover:bg-slate-300">重置</button>
        <button id="btnExport" class="px-4 py-2 rounded-xl bg-emerald-600 hover:bg-emerald-700 text-white">导出CSV</button>
        <div id="status" class="text-sm text-slate-500 self-center">状态：待命</div>
      </div>
    </section>

    <!-- Results + History + Footer 保持不变 -->
    <!-- （代码太长，这里我省略没变动的部分；就是前面给你的完整版） -->
    
    <footer class="py-8 text-center text-xs text-slate-500">
      © <span id="brandYear"></span> <span id="brandNameFoot"></span> · TikTok Pixel Utility · 仅供内部运维
    </footer>
  </div>

<script>
(function(){
  // 初始化品牌
  const $ = (id)=>document.getElementById(id);
  $('brandName').textContent = BRAND.name;
  $('brandNameFoot').textContent = BRAND.name;
  $('brandYear').textContent = BRAND.year;
  if (BRAND.logo) {
    const el = $('brandLogo');
    el.src = BRAND.logo;
    el.classList.remove('hidden');
  }
  // 其余逻辑（激活/统计/导出/历史）保持前版一致…
})();
</script>
</body>
</html>
